<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <title>Upload CSV Pegawai</title>

    <style>
        body {
            font-family: Arial;
            margin: 50px;
        }
        .card {
            width: 350px;
            padding: 30px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        input[type=file] {
            margin-bottom: 15px;
        }
        button {
            width: 100%;
            padding: 10px;
            background: green;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>

</head>
<body>

<h2>Upload File CSV Pegawai</h2>

<div class="card">
    <form id="formUpload">
        <input type="file" id="csvFile" accept=".csv" required><br>
        <button type="submit">Upload CSV</button>
    </form>

    <p id="status"></p>
</div>

<script>
document.getElementById("formUpload").addEventListener("submit", async function (e) {
    e.preventDefault();

    const fileInput = document.getElementById("csvFile");
    const file = fileInput.files[0];

    const formData = new FormData();
    formData.append("file", file);

    const response = await fetch("https://railwayuploadfixed-production.up.railway.app/upload-csv", {
        method: "POST",
        body: formData
    });

    const result = await response.json();
    document.getElementById("status").innerText = result.message || result.error;
});
</script>

</body>
</html>
